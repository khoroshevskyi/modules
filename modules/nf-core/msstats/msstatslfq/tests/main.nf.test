nextflow_pipeline {
    name "Test MSSTATS_MSSTATSLFQ"
    script "modules/nf-core/msstats/msstatslfq/main.nf"
    test "proteomics - MSstats label-free quantification" {
        when {
            params {
                outdir = "$baseDir/results"
                contrasts = "A-B"
                ref_condition = "A"
                msstats_remove_one_feat_prot = true
                msstatslfq_removeFewMeasurements = true
                msstatslfq_feature_subset_protein = "all"
                msstatslfq_quant_summary_method = "TMP"
                msstats_threshold = 0.01
            }
        }

        then {
            assert process.success
            assert snapshot(process.out).match()
        }
    }
}
